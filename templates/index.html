<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Head of the document contains metadata, scripts, and styles -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Scripts -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script type="text/javascript" src="static/constant.json"></script>

    <!-- Title of the webpage -->
    <title>Melbourne House Price Prediction</title>
    <style>
        /* Internal CSS starts here */
        #map {
            height: 100%; /* The height is 400 pixels */
            width: 100%; /* The width is the width of the web page */
            position: absolute; /* The map will be positioned absolutely within its container */
            left: 0px;
            top: 0px;
        }
        #formContainer {
              position: relative;
        }
        /* Global styles for the body */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            color: #333;
        }
        /* Styles for heading elements h2 and h3 */
        h2, h3 {
            text-align: center;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            margin: 20px;
        }
        /* Styles for the prediction form */
        form#predictForm {
            max-width: 600px;
            margin-left: 20px;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        /* Styles for labels */
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
        }
        /* Styles for select elements (dropdowns) */
        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        /* Styles for buttons */
        button {
            display: block;
            width: 100%;
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s; 
        }
        /* Hover state styles for buttons */
        button:hover {
            background-color: #0056b3; 
        }
    </style>
</head>
<body>
    <!-- The body tag represents the content of the HTML document -->
    <div id="map"></div>
    <div id="formContainer">
    <h2 style="font-size: 48px; font-weight: bold;">Melbourne House Price Prediction</h2>
    <form id="predictForm">

        <!-- Label for property type selection -->
        <label for="type">Property Type: </label>
        <select id="type">
            <!-- Type of property drop down menu -->
            <option value="0">House</option>
            <option value="1">Townhouse</option>
            <option value="2">Unit</option>
        </select><br><br>

        <!-- Label for the number of rooms selection -->
        <label for="rooms">Number of Rooms:</label>
        <select id="rooms">
            <!-- Number of rooms drop down menu-->
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
        </select><br><br>

        <!-- Label for the number of bathrooms selection -->
        <label for="bathroom">Number of Bathrooms:</label>
        <select id="bathroom">
            <!-- Number of bathrooms drop down menu -->
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
        </select><br><br>

        <!-- Label for the number of car garages selection -->
        <label for="garage">Number of Car Garages:</label>
        <select id="garage">
            <!-- Number of car garages drop down menu -->
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
        </select><br><br>

            <label for="suburb">Suburb Location:</label>
            <select id="suburb" onchange="suburbSelected(this.value, this.options[this.selectedIndex].text)">
                <!-- Dropdown for selecting a suburb. It has an onchange event to handle new selections. -->
                <option value="0">Abbotsford</option>
                <option value="1">Aberfeldie</option>
                <option value="2">Airport West</option>
                <option value="3">Albanvale</option>
                <option value="4">Albert Park</option>
                <option value="5">Albion</option>
                <option value="6">Alphington</option>
                <option value="7">Altona</option>
                <option value="8">Altona Meadows</option>
                <option value="9">Altona North</option>
                <option value="10">Ardeer</option>
                <option value="11">Armadale</option>
                <option value="12">Ascot Vale</option>
                <option value="13">Ashburton</option>
                <option value="14">Ashwood</option>
                <option value="15">Aspendale</option>
                <option value="16">Aspendale Gardens</option>
                <option value="17">Attwood</option>
                <option value="18">Avondale Heights</option>
                <option value="19">Bacchus Marsh</option>
                <option value="20">Balaclava</option>
                <option value="21">Balwyn</option>
                <option value="22">Balwyn North</option>
                <option value="23">Bayswater</option>
                <option value="24">Bayswater North</option>
                <option value="25">Beaconsfield</option>
                <option value="26">Beaconsfield Upper</option>
                <option value="27">Beaumaris</option>
                <option value="28">Bellfield</option>
                <option value="29">Bentleigh</option>
                <option value="30">Bentleigh East</option>
                <option value="31">Berwick</option>
                <option value="32">Black Rock</option>
                <option value="33">Blackburn</option>
                <option value="34">Blackburn North</option>
                <option value="35">Blackburn South</option>
                <option value="36">Bonbeach</option>
                <option value="37">Boronia</option>
                <option value="38">Botanic Ridge</option>
                <option value="39">Box Hill</option>
                <option value="40">Braybrook</option>
                <option value="41">Briar Hill</option>
                <option value="42">Brighton</option>
                <option value="43">Brighton East</option>
                <option value="44">Broadmeadows</option>
                <option value="45">Brookfield</option>
                <option value="46">Brooklyn</option>
                <option value="47">Brunswick</option>
                <option value="48">Brunswick East</option>
                <option value="49">Brunswick West</option>
                <option value="50">Bulleen</option>
                <option value="51">Bullengarook</option>
                <option value="52">Bundoora</option>
                <option value="53">Burnley</option>
                <option value="54">Burnside</option>
                <option value="55">Burnside Heights</option>
                <option value="56">Burwood</option>
                <option value="57">Burwood East</option>
                <option value="58">Cairnlea</option>
                <option value="59">Camberwell</option>
                <option value="60">Campbellfield</option>
                <option value="61">Canterbury</option>
                <option value="62">Carlton</option>
                <option value="63">Carlton North</option>
                <option value="64">Carnegie</option>
                <option value="65">Caroline Springs</option>
                <option value="66">Carrum</option>
                <option value="67">Carrum Downs</option>
                <option value="68">Caulfield</option>
                <option value="69">Caulfield East</option>
                <option value="70">Caulfield North</option>
                <option value="71">Caulfield South</option>
                <option value="72">Chadstone</option>
                <option value="73">Chelsea</option>
                <option value="74">Chelsea Heights</option>
                <option value="75">Cheltenham</option>
                <option value="76">Chirnside Park</option>
                <option value="77">Clarinda</option>
                <option value="78">Clayton</option>
                <option value="79">Clayton South</option>
                <option value="80">Clifton Hill</option>
                <option value="81">Coburg</option>
                <option value="82">Coburg North</option>
                <option value="83">Coldstream</option>
                <option value="84">Collingwood</option>
                <option value="85">Coolaroo</option>
                <option value="86">Craigieburn</option>
                <option value="87">Cranbourne</option>
                <option value="88">Cranbourne North</option>
                <option value="89">Cranbourne West</option>
                <option value="90">Cremorne</option>
                <option value="91">Croydon</option>
                <option value="92">Croydon Hills</option>
                <option value="93">Croydon North</option>
                <option value="94">Croydon South</option>
                <option value="95">Dallas</option>
                <option value="96">Dandenong</option>
                <option value="97">Dandenong North</option>
                <option value="98">Deepdene</option>
                <option value="99">Deer Park</option>
                <option value="100">Delahey</option>
                <option value="101">Derrimut</option>
                <option value="102">Diamond Creek</option>
                <option value="103">Diggers Rest</option>
                <option value="104">Dingley Village</option>
                <option value="105">Docklands</option>
                <option value="106">Doncaster</option>
                <option value="107">Doncaster East</option>
                <option value="108">Donvale</option>
                <option value="109">Doreen</option>
                <option value="110">Doveton</option>
                <option value="111">Eaglemont</option>
                <option value="112">East Melbourne</option>
                <option value="113">Edithvale</option>
                <option value="114">Elsternwick</option>
                <option value="115">Eltham</option>
                <option value="116">Eltham North</option>
                <option value="117">Elwood</option>
                <option value="118">Emerald</option>
                <option value="119">Endeavour Hills</option>
                <option value="120">Epping</option>
                <option value="121">Essendon</option>
                <option value="122">Essendon North</option>
                <option value="123">Essendon West</option>
                <option value="124">Eumemmerring</option>
                <option value="125">Fairfield</option>
                <option value="126">Fawkner</option>
                <option value="127">Ferntree Gully</option>
                <option value="128">Fitzroy</option>
                <option value="129">Fitzroy North</option>
                <option value="130">Flemington</option>
                <option value="131">Footscray</option>
                <option value="132">Forest Hill</option>
                <option value="133">Frankston</option>
                <option value="134">Frankston North</option>
                <option value="135">Frankston South</option>
                <option value="136">Gardenvale</option>
                <option value="137">Gisborne</option>
                <option value="138">Gisborne South</option>
                <option value="139">Gladstone Park</option>
                <option value="140">Glen Huntly</option>
                <option value="141">Glen Iris</option>
                <option value="142">Glen Waverley</option>
                <option value="143">Glenroy</option>
                <option value="144">Gowanbrae</option>
                <option value="145">Greensborough</option>
                <option value="146">Greenvale</option>
                <option value="147">Hadfield</option>
                <option value="148">Hallam</option>
                <option value="149">Hampton</option>
                <option value="150">Hampton East</option>
                <option value="151">Hampton Park</option>
                <option value="152">Hawthorn</option>
                <option value="153">Hawthorn East</option>
                <option value="154">Healesville</option>
                <option value="155">Heatherton</option>
                <option value="156">Heathmont</option>
                <option value="157">Heidelberg</option>
                <option value="158">Heidelberg Heights</option>
                <option value="159">Heidelberg West</option>
                <option value="160">Highett</option>
                <option value="161">Hillside</option>
                <option value="162">Hoppers Crossing</option>
                <option value="163">Hughesdale</option>
                <option value="164">Huntingdale</option>
                <option value="165">Hurstbridge</option>
                <option value="166">Ivanhoe</option>
                <option value="167">Ivanhoe East</option>
                <option value="168">Jacana</option>
                <option value="169">Kalkallo</option>
                <option value="170">Kealba</option>
                <option value="171">Keilor</option>
                <option value="172">Keilor Downs</option>
                <option value="173">Keilor East</option>
                <option value="174">Keilor Lodge</option>
                <option value="175">Keilor Park</option>
                <option value="176">Kensington</option>
                <option value="177">Kew</option>
                <option value="178">Kew East</option>
                <option value="179">Keysborough</option>
                <option value="180">Kilsyth</option>
                <option value="181">Kings Park</option>
                <option value="182">Kingsbury</option>
                <option value="183">Kingsville</option>
                <option value="184">Knoxfield</option>
                <option value="185">Kooyong</option>
                <option value="186">Kurunjang</option>
                <option value="187">Lalor</option>
                <option value="188">Langwarrin</option>
                <option value="189">Laverton</option>
                <option value="190">Lilydale</option>
                <option value="191">Lower Plenty</option>
                <option value="192">Lysterfield</option>
                <option value="193">Maidstone</option>
                <option value="194">Malvern</option>
                <option value="195">Malvern East</option>
                <option value="196">Maribyrnong</option>
                <option value="197">McKinnon</option>
                <option value="198">Meadow Heights</option>
                <option value="199">Melbourne</option>
                <option value="200">Melton</option>
                <option value="201">Melton South</option>
                <option value="202">Melton West</option>
                <option value="203">Mentone</option>
                <option value="204">Mernda</option>
                <option value="205">Mickleham</option>
                <option value="206">Middle Park</option>
                <option value="207">Mill Park</option>
                <option value="208">Mitcham</option>
                <option value="209">Monbulk</option>
                <option value="210">Mont Albert</option>
                <option value="211">Montmorency</option>
                <option value="212">Montrose</option>
                <option value="213">Moonee Ponds</option>
                <option value="214">Moorabbin</option>
                <option value="215">Mooroolbark</option>
                <option value="216">Mordialloc</option>
                <option value="217">Mount Evelyn</option>
                <option value="218">Mount Waverley</option>
                <option value="219">Mulgrave</option>
                <option value="220">Murrumbeena</option>
                <option value="221">Narre Warren</option>
                <option value="222">New Gisborne</option>
                <option value="223">Newport</option>
                <option value="224">Niddrie</option>
                <option value="225">Noble Park</option>
                <option value="226">North Melbourne</option>
                <option value="227">North Warrandyte</option>
                <option value="228">Northcote</option>
                <option value="229">Notting Hill</option>
                <option value="230">Nunawading</option>
                <option value="231">Oak Park</option>
                <option value="232">Oakleigh</option>
                <option value="233">Oakleigh East</option>
                <option value="234">Oakleigh South</option>
                <option value="235">Officer</option>
                <option value="236">Ormond</option>
                <option value="237">Pakenham</option>
                <option value="238">Parkdale</option>
                <option value="239">Parkville</option>
                <option value="240">Pascoe Vale</option>
                <option value="241">Patterson Lakes</option>
                <option value="242">Plenty</option>
                <option value="243">Plumpton</option>
                <option value="244">Point Cook</option>
                <option value="245">Port Melbourne</option>
                <option value="246">Prahran</option>
                <option value="247">Preston</option>
                <option value="248">Princes Hill</option>
                <option value="249">Research</option>
                <option value="250">Reservoir</option>
                <option value="251">Richmond</option>
                <option value="252">Riddells Creek</option>
                <option value="253">Ringwood</option>
                <option value="254">Ringwood East</option>
                <option value="255">Ringwood North</option>
                <option value="256">Ripponlea</option>
                <option value="257">Rockbank</option>
                <option value="258">Rosanna</option>
                <option value="259">Rowville</option>
                <option value="260">Roxburgh Park</option>
                <option value="261">Sandhurst</option>
                <option value="262">Sandringham</option>
                <option value="263">Scoresby</option>
                <option value="264">Seabrook</option>
                <option value="265">Seaford</option>
                <option value="266">Seaholme</option>
                <option value="267">Seddon</option>
                <option value="268">Silvan</option>
                <option value="269">Skye</option>
                <option value="270">South Kingsville</option>
                <option value="271">South Melbourne</option>
                <option value="272">South Morang</option>
                <option value="273">South Yarra</option>
                <option value="274">Southbank</option>
                <option value="275">Spotswood</option>
                <option value="276">Springvale</option>
                <option value="277">Springvale South</option>
                <option value="278">St Albans</option>
                <option value="279">St Helena</option>
                <option value="280">St Kilda</option>
                <option value="281">Strathmore</option>
                <option value="282">Strathmore Heights</option>
                <option value="283">Sunbury</option>
                <option value="284">Sunshine</option>
                <option value="285">Sunshine North</option>
                <option value="286">Sunshine West</option>
                <option value="287">Surrey Hills</option>
                <option value="288">Sydenham</option>
                <option value="289">Tarneit</option>
                <option value="290">Taylors Hill</option>
                <option value="291">Taylors Lakes</option>
                <option value="292">Templestowe</option>
                <option value="293">Templestowe Lower</option>
                <option value="294">The Basin</option>
                <option value="295">Thomastown</option>
                <option value="296">Thornbury</option>
                <option value="297">Toorak</option>
                <option value="298">Travancore</option>
                <option value="299">Truganina</option>
                <option value="300">Tullamarine</option>
                <option value="301">Upwey</option>
                <option value="302">Vermont</option>
                <option value="303">Vermont South</option>
                <option value="304">Viewbank</option>
                <option value="305">Wallan</option>
                <option value="306">Wandin North</option>
                <option value="307">Wantirna</option>
                <option value="308">Wantirna South</option>
                <option value="309">Warrandyte</option>
                <option value="310">Warranwood</option>
                <option value="311">Waterways</option>
                <option value="312">Watsonia</option>
                <option value="313">Watsonia North</option>
                <option value="314">Wattle Glen</option>
                <option value="315">Werribee</option>
                <option value="316">Werribee South</option>
                <option value="317">West Footscray</option>
                <option value="318">West Melbourne</option>
                <option value="319">Westmeadows</option>
                <option value="320">Wheelers Hill</option>
                <option value="321">Whittlesea</option>
                <option value="322">Wildwood</option>
                <option value="323">Williams Landing</option>
                <option value="324">Williamstown</option>
                <option value="325">Williamstown North</option>
                <option value="326">Windsor</option>
                <option value="327">Wollert</option>
                <option value="328">Wonga Park</option>
                <option value="329">Wyndham Vale</option>
                <option value="330">Yallambie</option>
                <option value="331">Yarra Glen</option>
                <option value="332">Yarraville</option>
            </select><br><br>

        <!-- Label for the region selection -->
        <label for="region">Region:</label>
        <select id="region">
            <!-- Melbourne Region Location drop down menu -->
            <option value="0">Eastern Metropolitan</option>
            <option value="1">Eastern Victoria</option>
            <option value="2" selected>Northern Metropolitan</option>
            <option value="3">Northern Victoria</option>
            <option value="4">South-Eastern Metropolitan</option>
            <option value="5">Southern Metropolitan</option>
            <option value="6">Western Metropolitan</option>
            <option value="7">Western Victoria</option>
        </select><br><br>

        <!-- Display label for distance from CBD (Central Business District) -->
        <label id="distanceLbl">Distance from CDB: 3.2 km</label>

        <!-- Hidden input field for the distance value to be used in the prediction, not visible to the user -->
        <input type="text" hidden id="distance" value="3.2"></input>
        <br><br>

        <!-- Button to trigger the price prediction -->
        <button type="button" onclick="makePrediction()">Predict Price</button>
    </form>

<!-- Closing div for the form container -->
</div>

// This script tag contains the JavaScript code used for the form interaction and prediction functionality.
    <script>
        
        // makePrediction is the function called when the Predict Price button is clicked.
        function makePrediction() {
            // formData object is created by retrieving the values from the form inputs.
            const formData = {
                suburb: document.getElementById('suburb').value, 
                rooms: document.getElementById('rooms').value,
                type: document.getElementById('type').value,
                distance: document.getElementById('distance').value,
                bathroom: document.getElementById('bathroom').value,
                garage: document.getElementById('garage').value,
                region: document.getElementById('region').value,
            };

             // A POST request is sent to the server endpoint '/predict' with the formData as the request body.
            fetch('/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData),
            })
            .then(response => response.json())
            .then(data => {

                // The following code is used to create a marker on a Google map for the selected suburb.
                var el = document.getElementById('suburb');
                var suburbSelected = el.options[el.selectedIndex].innerHTML;
                var request = {
                    query: suburbSelected,
                    fields: ['name', 'geometry'],
                };
                var service = new google.maps.places.PlacesService(map);

                 // The PlacesService finds the location of the suburb and creates a marker on the map.
                service.findPlaceFromQuery(request, function(results, status) {
                    if (status === google.maps.places.PlacesServiceStatus.OK) {
                    for (var i = 0; i < results.length; i++) {
                        createMarker(results[i], suburbSelected, data.result);
                    }
                    map.setCenter(results[0].geometry.location);    
                    }
                });
            })
             // If there's an error during the fetch, it's logged to the console.
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>

<!-- The empty script tag will later have its 'src' attribute set to load the Google Maps API -->
<script async id="googleMapLoad"></script>
</script>
    <script>
        // Parse a JSON string (google_json) containing the Google API key 
        var parsedGoogleJSON = JSON.parse(google_json);
        // Construct the URL for loading the Google Maps API, including the API key and additional parameters
        var googleMapURL = "https://maps.googleapis.com/maps/api/js?key=" + parsedGoogleJSON.key + "&libraries=places&callback=initMap";
         // Set the 'src' attribute of the script tag we identified earlier to start loading the Google Maps API
        document.getElementById('googleMapLoad').src = googleMapURL;

        // Initialize the map
        var markers = new Map();

// Initialize a new Map object
var map1 = new Map();
// Set some key-value pairs in the Map object
map1.set(0,2);
map1.set(1,6);
map1.set(2,6);
map1.set(3,6);
map1.set(4,5);
map1.set(5,6);
map1.set(6,2);
map1.set(7,6);
map1.set(8,6);
map1.set(9,6);
map1.set(10,6);
map1.set(11,5);
map1.set(12,6);
map1.set(13,5);
map1.set(14,5);
map1.set(15,4);
map1.set(16,4);
map1.set(17,2);
map1.set(18,6);
map1.set(19,7);
map1.set(20,5);
map1.set(21,5);
map1.set(22,5);
map1.set(23,0);
map1.set(24,0);
map1.set(25,1);
map1.set(26,1);
map1.set(27,5);
map1.set(28,0);
map1.set(29,5);
map1.set(30,5);
map1.set(31,1);
map1.set(32,5);
map1.set(33,0);
map1.set(34,0);
map1.set(35,0);
map1.set(36,4);
map1.set(37,0);
map1.set(38,4);
map1.set(39,0);
map1.set(40,6);
map1.set(41,0);
map1.set(42,5);
map1.set(43,5);
map1.set(44,2);
map1.set(45,7);
map1.set(46,6);
map1.set(47,2);
map1.set(48,2);
map1.set(49,2);
map1.set(50,0);
map1.set(51,3);
map1.set(52,2);
map1.set(53,2);
map1.set(54,6);
map1.set(55,6);
map1.set(56,5);
map1.set(57,0);
map1.set(58,6);
map1.set(59,5);
map1.set(60,2);
map1.set(61,5);
map1.set(62,2);
map1.set(63,2);
map1.set(64,5);
map1.set(65,6);
map1.set(66,4);
map1.set(67,4);
map1.set(68,5);
map1.set(69,5);
map1.set(70,5);
map1.set(71,5);
map1.set(72,5);
map1.set(73,4);
map1.set(74,4);
map1.set(75,5);
map1.set(76,1);
map1.set(77,4);
map1.set(78,4);
map1.set(79,4);
map1.set(80,2);
map1.set(81,2);
map1.set(82,2);
map1.set(83,1);
map1.set(84,2);
map1.set(85,2);
map1.set(86,2);
map1.set(87,4);
map1.set(88,4);
map1.set(89,4);
map1.set(90,2);
map1.set(91,0);
map1.set(92,0);
map1.set(93,0);
map1.set(94,0);
map1.set(95,2);
map1.set(96,4);
map1.set(97,4);
map1.set(98,5);
map1.set(99,6);
map1.set(100,6);
map1.set(101,6);
map1.set(102,3);
map1.set(103,6);
map1.set(104,4);
map1.set(105,5);
map1.set(106,0);
map1.set(107,0);
map1.set(108,0);
map1.set(109,3);
map1.set(110,4);
map1.set(111,0);
map1.set(112,2);
map1.set(113,4);
map1.set(114,5);
map1.set(115,0);
map1.set(116,0);
map1.set(117,5);
map1.set(118,1);
map1.set(119,4);
map1.set(120,2);
map1.set(121,6);
map1.set(122,6);
map1.set(123,6);
map1.set(124,4);
map1.set(125,2);
map1.set(126,2);
map1.set(127,0);
map1.set(128,2);
map1.set(129,2);
map1.set(130,2);
map1.set(131,6);
map1.set(132,0);
map1.set(133,4);
map1.set(134,1);
map1.set(135,4);
map1.set(136,5);
map1.set(137,3);
map1.set(138,3);
map1.set(139,6);
map1.set(140,5);
map1.set(141,5);
map1.set(142,0);
map1.set(143,2);
map1.set(144,6);
map1.set(145,2);
map1.set(146,2);
map1.set(147,2);
map1.set(148,4);
map1.set(149,5);
map1.set(150,5);
map1.set(151,4);
map1.set(152,5);
map1.set(153,5);
map1.set(154,3);
map1.set(155,4);
map1.set(156,0);
map1.set(157,0);
map1.set(158,0);
map1.set(159,0);
map1.set(160,5);
map1.set(161,6);
map1.set(162,6);
map1.set(163,5);
map1.set(164,5);
map1.set(165,3);
map1.set(166,0);
map1.set(167,0);
map1.set(168,2);
map1.set(169,2);
map1.set(170,6);
map1.set(171,6);
map1.set(172,6);
map1.set(173,6);
map1.set(174,6);
map1.set(175,6);
map1.set(176,2);
map1.set(177,5);
map1.set(178,5);
map1.set(179,4);
map1.set(180,0);
map1.set(181,6);
map1.set(182,2);
map1.set(183,6);
map1.set(184,0);
map1.set(185,5);
map1.set(186,3);
map1.set(187,2);
map1.set(188,1);
map1.set(189,6);
map1.set(190,1);
map1.set(191,0);
map1.set(192,4);
map1.set(193,6);
map1.set(194,5);
map1.set(195,5);
map1.set(196,6);
map1.set(197,5);
map1.set(198,2);
map1.set(199,2);
map1.set(200,7);
map1.set(201,7);
map1.set(202,3);
map1.set(203,4);
map1.set(204,2);
map1.set(205,2);
map1.set(206,5);
map1.set(207,2);
map1.set(208,0);
map1.set(209,1);
map1.set(210,0);
map1.set(211,0);
map1.set(212,1);
map1.set(213,6);
map1.set(214,5);
map1.set(215,1);
map1.set(216,4);
map1.set(217,1);
map1.set(218,0);
map1.set(219,4);
map1.set(220,5);
map1.set(221,4);
map1.set(222,3);
map1.set(223,6);
map1.set(224,6);
map1.set(225,4);
map1.set(226,2);
map1.set(227,0);
map1.set(228,2);
map1.set(229,5);
map1.set(230,0);
map1.set(231,2);
map1.set(232,5);
map1.set(233,5);
map1.set(234,4);
map1.set(235,1);
map1.set(236,5);
map1.set(237,1);
map1.set(238,4);
map1.set(239,2);
map1.set(240,2);
map1.set(241,4);
map1.set(242,3);
map1.set(243,6);
map1.set(244,6);
map1.set(245,5);
map1.set(246,5);
map1.set(247,2);
map1.set(248,2);
map1.set(249,0);
map1.set(250,2);
map1.set(251,2);
map1.set(252,3);
map1.set(253,0);
map1.set(254,0);
map1.set(255,0);
map1.set(256,5);
map1.set(257,6);
map1.set(258,0);
map1.set(259,4);
map1.set(260,2);
map1.set(261,4);
map1.set(262,5);
map1.set(263,0);
map1.set(264,6);
map1.set(265,4);
map1.set(266,6);
map1.set(267,6);
map1.set(268,1);
map1.set(269,4);
map1.set(270,6);
map1.set(271,5);
map1.set(272,2);
map1.set(273,5);
map1.set(274,5);
map1.set(275,6);
map1.set(276,4);
map1.set(277,4);
map1.set(278,6);
map1.set(279,0);
map1.set(280,5);
map1.set(281,6);
map1.set(282,6);
map1.set(283,6);
map1.set(284,6);
map1.set(285,6);
map1.set(286,6);
map1.set(287,5);
map1.set(288,6);
map1.set(289,6);
map1.set(290,6);
map1.set(291,6);
map1.set(292,0);
map1.set(293,0);
map1.set(294,0);
map1.set(295,2);
map1.set(296,2);
map1.set(297,5);
map1.set(298,6);
map1.set(299,6);
map1.set(300,6);
map1.set(301,1);
map1.set(302,0);
map1.set(303,0);
map1.set(304,0);
map1.set(305,3);
map1.set(306,1);
map1.set(307,0);
map1.set(308,0);
map1.set(309,0);
map1.set(310,0);
map1.set(311,4);
map1.set(312,2);
map1.set(313,2);
map1.set(314,3);
map1.set(315,6);
map1.set(316,6);
map1.set(317,6);
map1.set(318,2);
map1.set(319,2);
map1.set(320,4);
map1.set(321,3);
map1.set(322,6);
map1.set(323,6);
map1.set(324,6);
map1.set(325,6);
map1.set(326,5);
map1.set(327,2);
map1.set(328,1);
map1.set(329,6);
map1.set(330,2);
map1.set(331,3);
map1.set(332,6);

// Initialize a new Map object named 'map2'
var map2 = new Map()

// Set key-value pairs in 'map2'
// The keys are strings representing suburb names,
// and the values are numerical data associated with those suburbs.
map2.set("Abbotsford",3.243672949);
map2.set("Aberfeldie",8.218626931);
map2.set("Airport West",12.31292697);
map2.set("Albanvale",18.40510209);
map2.set("Albert Park",3.649246315);
map2.set("Albion",13.09832488);
map2.set("Alphington",7.003257576);
map2.set("Altona",13.77895786);
map2.set("Altona Meadows",17.65230916);
map2.set("Altona North",10.23455196);
map2.set("Ardeer",14.65010733);
map2.set("Armadale",7.032081713);
map2.set("Ascot Vale",5.770215193);
map2.set("Ashburton",12.02094821);
map2.set("Ashwood",13.86965456);
map2.set("Aspendale",26.31472961);
map2.set("Aspendale Gardens",27.11610452);
map2.set("Attwood",16.93770775);
map2.set("Avondale Heights",10.62060228);
map2.set("Bacchus Marsh",49.08699249);
map2.set("Balaclava",7.092930057);
map2.set("Balwyn",10.57110432);
map2.set("Balwyn North",11.05589246);
map2.set("Bayswater",26.41437526);
map2.set("Bayswater North",28.29244681);
map2.set("Beaconsfield",45.04719765);
map2.set("Beaconsfield Upper",44.70776881);
map2.set("Beaumaris",20.10918888);
map2.set("Bellfield",9.54262523);
map2.set("Bentleigh",14.12974809);
map2.set("Bentleigh East",15.23995164);
map2.set("Berwick",42.03696068);
map2.set("Black Rock",18.54125605);
map2.set("Blackburn",16.66211469);
map2.set("Blackburn North",16.92212582);
map2.set("Blackburn South",16.54079236);
map2.set("Bonbeach",31.49807858);
map2.set("Boronia",28.29063768);
map2.set("Botanic Ridge",44.83965468);
map2.set("Box Hill",14.5453791);
map2.set("Braybrook",10.16627234);
map2.set("Briar Hill",18.38001046);
map2.set("Brighton",11.32386898);
map2.set("Brighton East",12.65215554);
map2.set("Broadmeadows",14.56919362);
map2.set("Brookfield",38.29463771);
map2.set("Brooklyn",10.49522465);
map2.set("Brunswick",5.19488494);
map2.set("Brunswick East",4.796650816);
map2.set("Brunswick West",5.733791949);
map2.set("Bulla",24.25512147);
map2.set("Bulleen",12.35074529);
map2.set("Bullengarook",54.18725825);
map2.set("Bundoora",15.87035445);
map2.set("Burnley",4.556579233);
map2.set("Burnside",20.08460143);
map2.set("Burnside Heights",20.10709246);
map2.set("Burwood",13.81695213);
map2.set("Burwood East",16.92488559);
map2.set("Cairnlea",16.82631785);
map2.set("Camberwell",10.39585166);
map2.set("Campbellfield",14.94054821);
map2.set("Canterbury",10.11741863);
map2.set("Carlton",1.873998194);
map2.set("Carlton North",3.158804306);
map2.set("Carnegie",12.23473069);
map2.set("Caroline Springs",21.70386163);
map2.set("Carrum",32.77437211);
map2.set("Carrum Downs",37.67917473);
map2.set("Caulfield",10.03440454);
map2.set("Caulfield East",10.88387113);
map2.set("Caulfield North",8.097697491);
map2.set("Caulfield South",10.58033876);
map2.set("Chadstone",14.35643107);
map2.set("Chelsea",29.60152632);
map2.set("Chelsea Heights",30.11916133);
map2.set("Cheltenham",19.27861506);
map2.set("Chirnside Park",31.99130416);
map2.set("Clarinda",18.71866693);
map2.set("Clayton",18.49898318);
map2.set("Clayton South",19.96640877);
map2.set("Clifton Hill",3.831259308);
map2.set("Clyde North",46.08002273);
map2.set("Coburg",7.545997627);
map2.set("Coburg North",9.496222989);
map2.set("Coldstream",38.38199013);
map2.set("Collingwood",2.643833165);
map2.set("Coolaroo",17.02521068);
map2.set("Craigieburn",25.34981137);
map2.set("Cranbourne",42.58977833);
map2.set("Cranbourne North",42.28221737);
map2.set("Cranbourne West",41.49575804);
map2.set("Cremorne",3.168127598);
map2.set("Croydon",28.27461362);
map2.set("Croydon Hills",26.96389058);
map2.set("Croydon North",28.79534598);
map2.set("Croydon South",27.5997884);
map2.set("Dallas",16.02914279);
map2.set("Dandenong",29.2999049);
map2.set("Dandenong North",27.01790514);
map2.set("Deepdene",9.114027881);
map2.set("Deer Park",17.80862411);
map2.set("Delahey",19.78879711);
map2.set("Derrimut",17.89503816);
map2.set("Diamond Creek",22.87210266);
map2.set("Diggers Rest",30.46958826);
map2.set("Dingley Village",23.79197547);
map2.set("Docklands",1.883660527);
map2.set("Doncaster",14.52289757);
map2.set("Doncaster East",17.71145464);
map2.set("Donvale",19.78863958);
map2.set("Doreen",27.5736868);
map2.set("Doveton",31.29610836);
map2.set("Eaglemont",10.19738439);
map2.set("East Melbourne",2.049569736);
map2.set("Edithvale",28.48237802);
map2.set("Elsternwick",9.143672054);
map2.set("Eltham",20.17148209);
map2.set("Eltham North",20.12953452);
map2.set("Elwood",7.843095997);
map2.set("Emerald",44.15233033);
map2.set("Endeavour Hills",32.11984819);
map2.set("Epping",20.25413717);
map2.set("Essendon",8.433258712);
map2.set("Essendon North",9.781372823);
map2.set("Essendon West",9.443737551);
map2.set("Eumemmerring",32.3431086);
map2.set("Eynesbury",36.24558291);
map2.set("Fairfield",6.495179137);
map2.set("Fawkner",11.87196823);
map2.set("Ferntree Gully",28.66312677);
map2.set("Ferny Creek",32.96363059);
map2.set("Fitzroy",2.192760156);
map2.set("Fitzroy North",3.681332532);
map2.set("Flemington",4.301360128);
map2.set("Footscray",6.403726459);
map2.set("Forest Hill",18.62752355);
map2.set("Frankston",40.73108308);
map2.set("Frankston North",38.33595928);
map2.set("Frankston South",41.95452505);
map2.set("Gardenvale",10.43101266);
map2.set("Gisborne",47.90027358);
map2.set("Gisborne South",42.6234947);
map2.set("Gladstone Park",14.97811387);
map2.set("Glen Huntly",11.16283865);
map2.set("Glen Iris",10.2811184);
map2.set("Glen Waverley",19.48912);
map2.set("Glenroy",12.63711916);
map2.set("Gowanbrae",13.25968636);
map2.set("Greensborough",17.4063889);
map2.set("Greenvale",20.49990353);
map2.set("Hadfield",11.5584667);
map2.set("Hallam",34.15202687);
map2.set("Hampton",14.62108198);
map2.set("Hampton East",15.33571011);
map2.set("Hampton Park",36.13234284);
map2.set("Hawthorn",6.163552578);
map2.set("Hawthorn East",8.071282088);
map2.set("Healesville",52.69819505);
map2.set("Heatherton",18.79223355);
map2.set("Heathmont",24.74351528);
map2.set("Heidelberg",11.5071552);
map2.set("Heidelberg Heights",11.18808622);
map2.set("Heidelberg West",10.62285218);
map2.set("Highett",16.61592457);
map2.set("Hillside",23.2940227);
map2.set("Hoppers Crossing",24.61363075);
map2.set("Hughesdale",14.21885619);
map2.set("Huntingdale",16.53656854);
map2.set("Hurstbridge",28.43745238);
map2.set("Ivanhoe",8.755560876);
map2.set("Ivanhoe East",9.465965305);
map2.set("Jacana",14.61540358);
map2.set("Kalkallo",31.38137766);
map2.set("Kealba",14.88213578);
map2.set("Keilor",15.86824536);
map2.set("Keilor Downs",17.18310744);
map2.set("Keilor East",11.56408633);
map2.set("Keilor Lodge",19.19954185);
map2.set("Keilor Park",13.58834427);
map2.set("Kensington",3.721881886);
map2.set("Kew",6.912063481);
map2.set("Kew East",8.232552163);
map2.set("Keysborough",26.78243274);
map2.set("Kilsyth",31.17011654);
map2.set("Kings Park",18.79045181);
map2.set("Kingsbury",12.57204152);
map2.set("Kingsville",7.217045937);
map2.set("Knoxfield",26.43541165);
map2.set("Kooyong",7.213409544);
map2.set("Kurunjang",36.383883);
map2.set("Lalor",16.78453474);
map2.set("Langwarrin",43.12036887);
map2.set("Laverton",17.49709317);
map2.set("Lilydale",35.4874479);
map2.set("Lower Plenty",16.6424696);
map2.set("Lynbrook",37.27248863);
map2.set("Lysterfield",29.71317163);
map2.set("Maidstone",8.275430598);
map2.set("Malvern",8.222709163);
map2.set("Malvern East",11.2509766);
map2.set("Maribyrnong",7.643449805);
map2.set("McKinnon",12.753821);
map2.set("Meadow Heights",18.39174052);
map2.set("Melbourne",0.632647505);
map2.set("Melton",36.72212404);
map2.set("Melton South",36.22200689);
map2.set("Melton West",38.84913814);
map2.set("Mentone",21.01110083);
map2.set("Mernda",26.0037744);
map2.set("Mickleham",30.39640057);
map2.set("Middle Park",4.253423412);
map2.set("Mill Park",18.47446611);
map2.set("Mitcham",20.78009171);
map2.set("Monbulk",40.25735816);
map2.set("Mont Albert",12.90376042);
map2.set("Montmorency",17.53636579);
map2.set("Montrose",34.40732879);
map2.set("Moonee Ponds",6.405461549);
map2.set("Moorabbin",16.12314515);
map2.set("Mooroolbark",31.50097046);
map2.set("Mordialloc",23.81696658);
map2.set("Mount Evelyn",36.84578055);
map2.set("Mount Waverley",16.24994492);
map2.set("Mulgrave",22.86526541);
map2.set("Murrumbeena",13.32427586);
map2.set("Narre Warren",37.99578688);
map2.set("New Gisborne",50.4547612);
map2.set("Newport",8.114788479);
map2.set("Niddrie",10.50431341);
map2.set("Noble Park",26.03869507);
map2.set("North Melbourne",2.052240542);
map2.set("North Warrandyte",24.41461682);
map2.set("Northcote",5.640838615);
map2.set("Notting Hill",19.27382433);
map2.set("Nunawading",18.84480938);
map2.set("Oak Park",11.32924438);
map2.set("Oakleigh",15.45517788);
map2.set("Oakleigh East",16.80212004);
map2.set("Oakleigh South",16.83708881);
map2.set("Officer",49.82329203);
map2.set("Ormond",12.35078835);
map2.set("Pakenham",53.17870005);
map2.set("Parkdale",22.64603746);
map2.set("Parkville",2.915197971);
map2.set("Pascoe Vale",9.984298279);
map2.set("Patterson Lakes",33.27948753);
map2.set("Plenty",20.59977184);
map2.set("Plumpton",23.5465119);
map2.set("Point Cook",21.74837961);
map2.set("Port Melbourne",3.549383235);
map2.set("Prahran",5.577185503);
map2.set("Preston",8.942732314);
map2.set("Princes Hill",3.386161275);
map2.set("Research",22.77704713);
map2.set("Reservoir",11.80277654);
map2.set("Richmond",3.643265829);
map2.set("Riddells Creek",46.1339966);
map2.set("Ringwood",23.96899226);
map2.set("Ringwood East",25.47515864);
map2.set("Ringwood North",23.39397152);
map2.set("Ripponlea",7.899908236);
map2.set("Rockbank",27.52819627);
map2.set("Rosanna",12.46759421);
map2.set("Rowville",28.27301564);
map2.set("Roxburgh Park",20.72525334);
map2.set("Sandhurst",36.67381369);
map2.set("Sandringham",16.2848261);
map2.set("Scoresby",24.77992323);
map2.set("Seabrook",19.60218368);
map2.set("Seaford",36.01716842);
map2.set("Seaholme",11.82467495);
map2.set("Seddon",6.297660794);
map2.set("Silvan",42.97314643);
map2.set("Skye",38.27260686);
map2.set("South Kingsville",8.311587031);
map2.set("South Melbourne",2.636279543);
map2.set("South Morang",22.31510779);
map2.set("South Yarra",4.056501278);
map2.set("Southbank",1.634255104);
map2.set("Spotswood",7.469405529);
map2.set("Springvale",22.46793542);
map2.set("Springvale South",24.51285738);
map2.set("St Albans",15.90424071);
map2.set("St Helena",20.23571773);
map2.set("St Kilda",6.009190396);
map2.set("Strathmore",9.729897928);
map2.set("Strathmore Heights",12.46478673);
map2.set("Sunbury",33.87582878);
map2.set("Sunshine",11.40300695);
map2.set("Sunshine North",12.1147079);
map2.set("Sunshine West",13.72488827);
map2.set("Surrey Hills",12.04965458);
map2.set("Sydenham",21.27221925);
map2.set("Tarneit",25.71338566);
map2.set("Taylors Hill",21.42527707);
map2.set("Taylors Lakes",19.7726807);
map2.set("Templestowe",17.39697616);
map2.set("Templestowe Lower",14.18363352);
map2.set("The Basin",30.94322119);
map2.set("Thomastown",15.49230775);
map2.set("Thornbury",7.186089711);
map2.set("Toorak",5.685942844);
map2.set("Travancore",4.217322654);
map2.set("Truganina",21.4455741);
map2.set("Tullamarine",14.67223305);
map2.set("Upwey",33.92710532);
map2.set("Vermont",20.92582683);
map2.set("Vermont South",20.08610739);
map2.set("Viewbank",14.06480671);
map2.set("Wallan",44.90626386);
map2.set("Wandin North",40.03171366);
map2.set("Wantirna",24.03349447);
map2.set("Wantirna South",24.71294198);
map2.set("Warrandyte",22.87330847);
map2.set("Warranwood",25.44245845);
map2.set("Waterways",26.77191024);
map2.set("Watsonia",15.41418691);
map2.set("Watsonia North",16.74647393);
map2.set("Wattle Glen",25.16648341);
map2.set("Werribee",28.32934575);
map2.set("Werribee South",25.50243661);
map2.set("West Footscray",8.191118525);
map2.set("West Melbourne",1.3814972);
map2.set("Westmeadows",16.37877623);
map2.set("Wheelers Hill",22.11032838);
map2.set("Whittlesea",36.3649672);
map2.set("Wildwood",26.9434127);
map2.set("Williams Landing",20.04942915);
map2.set("Williamstown",8.127981365);
map2.set("Williamstown North",8.65000108);
map2.set("Windsor",5.610735761);
map2.set("Wollert",22.7669854);
map2.set("Wonga Park",29.11662488);
map2.set("Wyndham Vale",31.2155321);
map2.set("Yallambie",15.09736245);
map2.set("Yarra Glen",40.25779704);
map2.set("Yarraville",6.907549768);

         // Define global variables to hold the map, the service, and the info window objects.
        var map;
        var service;
        var infowindow;

        // initMap is a callback function used to initialize the Google map.
        function initMap() {
            // Define a new location using Google Maps' LatLng object for Melbourne city center.
            var melbourne = new google.maps.LatLng(-37.8136, 144.9631);

             // Initialize the InfoWindow object which will be used to display information.
            infowindow = new google.maps.InfoWindow();

            // Create a new Google map inside the div with id 'map', centered on Melbourne with zoom level 15.
            map = new google.maps.Map(
                document.getElementById('map'), {center: melbourne, zoom: 15});
        }
        // createMarker is a function to add markers to the map for a given place.
        function createMarker(place, suburb, price) {

             // If the place has no geometry or location data, exit the function.
            if (!place.geometry || !place.geometry.location) return;

            // Define the text for the marker's label as the suburb name.
            let markerText = suburb;
            marker2 = markers.get(suburb);

            // Check if the market exist
            if(marker2 == null){ 

            // Create the first marker for the suburb icon.
            const marker = new google.maps.Marker({
                            map,
                            position: place.geometry.location,
                            icon: {
                                url: 'static/images/icons8-home-120.png', // URL to the marker image
                                labelOrigin: new google.maps.Point(60, 120) // Position the label below the marker
                            },
                            label: {
                                text: markerText, // The text of the label
                                color: '#000000', // The color of the label text
                                fontSize: '25px', // The font size of the label text
                                fontWeight: 'bold' // The font weight of the label text
                            }
                        });

            // Create marker for the price.
            const marker2 = new google.maps.Marker({
                            map,
                            position: place.geometry.location,
                            icon: {
                            url: 'static/images/icons8-home-120.png', // URL to the marker image
                            labelOrigin: new google.maps.Point(60, 145) // Position the label below the marker
                            },
                            label: {
                                text: price, // The text of the label
                                color: '#000000', // The color of the label text
                                fontSize: '25px', // The font size of the label text
                                fontWeight: 'bold' // The font weight of the label text
                            }
                        });

                // Add a click listener to the first marker to open an info window with the place name.
                google.maps.event.addListener(marker, "click", () => {
                    infowindow.setContent(place.name || "");
                    infowindow.open(map);
                });
                
                // Add the same click listener to the second marker.
                google.maps.event.addListener(marker2, "click", () => {
                    infowindow.setContent(place.name || "");
                    infowindow.open(map);
                });
                markers.set(suburb, marker2);
            }else {
                marker2.setLabel({
                                text: price, // The text of the label
                                color: '#000000', // The color of the label text
                                fontSize: '25px', // The font size of the label text
                                fontWeight: 'bold' // The font weight of the label text
                            });
            }
        }

        // suburbSelected is called when a suburb is selected from the dropdown.
        function suburbSelected(value, suburb){
            // Retrieve a value associated with the suburb from map1 (presumably the region).
            let regionValue = map1.get(parseInt(value));            
            let region = document.getElementById('region');
            // Update the region dropdown to the value corresponding to the selected suburb.
            region.value = regionValue;

            // Retrieve the distance for the suburb from map2, round it to one decimal place.
            let distance = Math.round(map2.get(suburb) * 10) / 10;
            
            // Update the distance label and hidden distance input with the distance value.
            document.getElementById('distanceLbl').innerHTML = "Distance from CBD: " + distance + " km"
            document.getElementById("distance").value = distance;
        }       
    </script>
</body>
</html>